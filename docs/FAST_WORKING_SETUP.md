# –ë—ã—Å—Ç—Ä–æ–µ —Ä–∞–±–æ—á–µ–µ —Ä–µ—à–µ–Ω–∏–µ: –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è + –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ä–æ–ª—è–º

## üéØ –¶–µ–ª—å: –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –ø–æ —Ä–æ–ª—è–º

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π Whisper + WhisperX

### –®–∞–≥ 1: –£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –ø–∞–∫–µ—Ç—ã

```powershell
cd C:\prj\converter\backend
.\venv\Scripts\Activate.ps1

# –£–¥–∞–ª–∏—Ç—å faster-whisper –∏ hf-xet (–ø—Ä–æ–±–ª–µ–º—ã —Å–æ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ–º –Ω–∞ Windows)
pip uninstall faster-whisper hf-xet -y
```

### –®–∞–≥ 2: –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –Ω—É–∂–Ω—ã–µ –ø–∞–∫–µ—Ç—ã

```powershell
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
pip list | Select-String -Pattern "whisper|pyannote"

# –ï—Å–ª–∏ whisperx –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:
pip install whisperx pyannote.audio
```

### –®–∞–≥ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∞—à medium.pt

–í–∞—à–∞ –º–æ–¥–µ–ª—å `medium.pt` —É–∂–µ –µ—Å—Ç—å - –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

**–í –∫–æ–¥–µ:**
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π Whisper –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `medium.pt` –∏–∑ `E:\whisper-models\`
- WhisperX –¥–ª—è diarization –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–¥–µ–ª–∏ –∏–∑ `E:\huggingface-cache\`

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å diarization (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

–ï—Å–ª–∏ –º–æ–¥–µ–ª—å diarization –µ—â–µ –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞:

1. **–ü—Ä–∏–º–∏—Ç–µ —É—Å–ª–æ–≤–∏—è:**
   - https://huggingface.co/pyannote/speaker-diarization-3.1
   - https://huggingface.co/pyannote/segmentation-3.0

2. **–ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω:**
   - https://huggingface.co/settings/tokens

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–æ–∫–µ–Ω:**
   ```powershell
   $env:HF_TOKEN="–≤–∞—à_—Ç–æ–∫–µ–Ω"
   ```

4. **–ú–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ diarization**

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ:
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤–∏–¥–µ–æ
2. –í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å: **"medium"** (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–∞—à medium.pt)
3. –í–∫–ª—é—á–∏—Ç–µ –æ–ø—Ü–∏—é: **"üé≠ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ä–æ–ª—è–º"**
4. –ù–∞–∂–º–∏—Ç–µ "–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å"

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è (–≤–∞—à medium.pt)
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ä–æ–ª—è–º (—á–µ—Ä–µ–∑ WhisperX, –µ—Å–ª–∏ –º–æ–¥–µ–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã)
- ‚úÖ –¢–µ–∫—Å—Ç —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Å–ø–∏–∫–µ—Ä–æ–≤

## ‚ö° –î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥–µ–ª–∏:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–æ–¥–µ–ª—å **"base"** –≤–º–µ—Å—Ç–æ "medium" - –±—ã—Å—Ç—Ä–µ–µ
- –ò–ª–∏ **"small"** - –±–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–∞

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏:
–í –∫–æ–¥–µ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
- `beam_size=1` - –±—ã—Å—Ç—Ä–µ–µ (–º–µ–Ω—å—à–µ —Ç–æ—á–Ω–æ—Å—Ç—å)
- `best_of=1` - –±—ã—Å—Ç—Ä–µ–µ

## üìù –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

‚úÖ **–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è:** 
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–∞—à `medium.pt`
- –†–∞–±–æ—Ç–∞–µ—Ç —Å—Ä–∞–∑—É
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç —Å–∫–∞—á–∏–≤–∞–Ω–∏—è

‚úÖ **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ä–æ–ª—è–º:**
- –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ WhisperX
- –ù—É–∂–Ω–∞ –º–æ–¥–µ–ª—å diarization (–∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏)
- –¢—Ä–µ–±—É–µ—Ç —Ç–æ–∫–µ–Ω HuggingFace –¥–ª—è –º–æ–¥–µ–ª–∏ segmentation-3.0

## üîß –ï—Å–ª–∏ diarization –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ whisperx —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: `pip install whisperx`
2. –ü—Ä–∏–º–∏—Ç–µ —É—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–µ–π –Ω–∞ HuggingFace
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–æ–∫–µ–Ω: `$env:HF_TOKEN="–≤–∞—à_—Ç–æ–∫–µ–Ω"`
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å diarization - –º–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## üí° –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –±–µ–∑ diarization:

–ï—Å–ª–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ä–æ–ª—è–º –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –ø—Ä–æ—Å—Ç–æ –Ω–µ –≤–∫–ª—é—á–∞–π—Ç–µ —ç—Ç—É –æ–ø—Ü–∏—é:
- –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ
- –¢–µ–∫—Å—Ç –±—É–¥–µ—Ç –±–µ–∑ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –ø–æ —Å–ø–∏–∫–µ—Ä–∞–º
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å diarization –ø–æ–∑–∂–µ


